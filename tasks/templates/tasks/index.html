    {% extends "tasks/layout.html" %}
    {% load static %}
    <body>
        <header>
            <div class="user-info">
                {% if request.user.is_authenticated %}
                    <span>{{ request.user.username }}</span>
                    <form action="{% url 'users:logout' %}" method="post">
                        {% csrf_token %}
                        <button type="submit">Logout</button>
                    </form>
                {% endif %}
            </div>
        </header>
        
        {% if messages %}
            <ul class="messages">
            {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
            </ul>
        {% endif %}
        
        <main>
            {% block content %}
            <h1>Task List</h1>
            
            <!-- Task Table -->
            <table border="1" cellpadding="5" cellspacing="0">
                <thead>
                    <tr>
                        <th>Task</th>
                        <th>Description</th>
                        <th>Date Due</th>
                        <th>Completed</th>
                        <th>Category</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for task in tasks %}
                        <tr id="task-{{ task.id }}">
                            <td>{{ task.name }}</td>
                            <td>{{ task.description|default:"No description" }}</td>
                            <td>{{ task.due_date|date:"Y-m-d" }}</td>
                            <td>{% if task.completed %}✅{% else %}❌{% endif %}</td>
                            <td>{{ task.category.name|default:"No category" }}</td>
                            <td>
                                <button class="delete-btn" data-task-id="{{ task.id }}" data-task-name="{{ task.name }}">Delete</button>
                            </td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="6">No Tasks.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            
            <!-- Task Details Section -->
            <h2>View Task Details</h2>
            <select id="taskDropdown">
                <option value=""> -- Select a task --</option>
                {% for task in tasks %}
                    <option value="{{ task.id }}">{{ task.name }}</option>
                {% endfor %}
            </select>
            
            <div id="taskDetails" style="display: none;">
                <p><strong>Task Name:</strong> <span id="taskName"></span></p>
                <p><strong>Description:</strong> <span id="taskDescription"></span></p>
                <p><strong>Due Date:</strong> <span id="taskDueDate"></span></p>
                <p><strong>Completed:</strong> <span id="taskCompleted"></span></p>
                <p><strong>Category:</strong> <span id="taskCategory"></span></p>
            </div>
            
            <!-- Navigation Links -->
            <ul>
                <li><a href="{% url 'tasks:add' %}">Add a New Task</a></li>
                <li><a href="{% url 'tasks:modify' %}">Modify a Task</a></li>
            </ul>
            
            {% endblock %}
        </main>
        
        <!-- Scripts -->
        <script src="{% static 'tasks/delete_task.js' %}"></script>
        <script src="{% static 'tasks/task_details.js' %}"></script>
    </body>
    </html>
